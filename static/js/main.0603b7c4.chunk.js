(this.webpackJsonpmmi=this.webpackJsonpmmi||[]).push([[0],{148:function(e,t,n){},253:function(e,t,n){"use strict";n.r(t);var r,c,a,o=n(0),i=n.n(o),s=n(19),u=n.n(s),l=(n(148),n(4)),j=n(8),b=n(1),d=n(48),f=n(126),O=n(49),m=n(256),h=n(258),p=n(257),v=n(3),x=function(e,t){var n=Object(o.useState)(e),r=Object(l.a)(n,2),c=r[0],a=r[1];return Object(o.useEffect)((function(){var e=setInterval((function(){c>0&&t&&a(c-1),0===c&&clearInterval(e)}),1e3);return function(){clearInterval(e)}}),[a,c,t]),n},g=function(e){var t=e.timer,n=function(e){var t=e.toString();return/^[0-9]$/.test(t)?"0"+t:e};return Object(v.jsxs)("div",{children:[n(Math.trunc(t/3600)),":",n(Math.trunc(t/60)%60),":",n(t%60)]})},y=function(e){return e.chess?Object(v.jsx)("div",{children:e.chess.history({verbose:!0}).filter((function(t){return t.color===e.player})).map((function(e,t){return Object(v.jsxs)("div",{children:[t+1,". from ",e.from," to ",e.to]},e.from+e.to)}))}):null},S=n.p+"static/media/orn.1d5d535f.png",w=O.a.div(r||(r=Object(d.a)(["\n    margin: 50;\n"]))),k=function(e){var t=e.player,n=e.marked,r=e.chess,c=e.playerColor,a=e.timer,o=e.showTimer;return Object(v.jsxs)(w,{marked:n,player:c,children:[Object(v.jsx)("h2",{children:t}),Object(v.jsx)("img",{src:S,alt:""}),n&&Object(v.jsx)("h3",{children:"It is your turn!"}),o&&Object(v.jsx)(g,{timer:a}),Object(v.jsx)(y,{chess:r,player:c})]})},C=n.p+"static/media/Magic.cc753f6b.png",N=(n(99),n(130)),q=n.n(N),P=n(79),L=n.n(P),I=n(96),T=n.n(I),B=n(89),M={p:["pawn","phone","on","born","palm"],n:["knight","night","light"],b:["bishop"],r:["rook","rock"],q:["queen"],k:["king"]},E=[["see","c"],["die","d"],["for","4"],["andy","undo"],["andrew","undo"]],A=O.a.div(c||(c=Object(d.a)(["\n    border: 2px solid tomato;\n    padding: 10px;\n    position: relative;\n"]))),D=Object(O.a)(m.a)(a||(a=Object(d.a)(["\n    background-color: #580a1d;\n    color: white;\n    border-radius: 4px;\n    .ant-modal-content {\n        box-shadow: none;\n    }\n\n    .ant-modal-footer {\n        background-color: #580a1d;\n        border-top: 1px solid gold;\n        padding: 0px 16px;\n    }\n    .ant-modal-body {\n        background-color: #580a1d;\n    }\n"]))),F=n(158),R=function(e){var t=e.bPlayer,n=e.wPlayer,r=e.playTime,c=Object(o.useState)(new F("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1")),a=Object(l.a)(c,1)[0],i=Object(o.useState)(a.fen()),s=Object(l.a)(i,2),u=s[0],d=s[1],O=Object(P.useSpeechRecognition)(),m=O.transcript,g=O.resetTranscript,y=O.listening,S=Object(o.useState)(null),w=Object(l.a)(S,2),N=w[0],I=w[1],R=Object(o.useState)(null),H=Object(l.a)(R,2),G=H[0],Q=H[1],U=Object(o.useState)(),J=Object(l.a)(U,2),K=J[0],W=J[1],$=Object(o.useState)(),_=Object(l.a)($,2),z=_[0],V=_[1],X=Object(o.useState)(!1),Y=Object(l.a)(X,2),Z=Y[0],ee=Y[1],te="w"===a.turn(),ne=x(r,"w"===a.turn()),re=Object(l.a)(ne,2),ce=re[0],ae=re[1],oe=x(r,"b"===a.turn()),ie=Object(l.a)(oe,2),se=ie[0],ue=ie[1],le=Object(o.useState)([[r,r]]),je=Object(l.a)(le,2),be=je[0],de=je[1];Object(o.useEffect)((function(){if(m){var e=function(e){e=e.toLowerCase();var t,n=Object(f.a)(E);try{for(n.s();!(t=n.n()).done;){var r=t.value;e=e.replaceAll(r[0],r[1])}}catch(c){n.e(c)}finally{n.f()}return e}(m),t=m.match(/[a-hA-H]+[1-8].*(?:to|2).*[a-hA-H]+[1-8]/g);if(t){var n=t[0].toLowerCase();I(n.substring(0,3).trim()),Q(n.substring(n.length-2).trim())}else{var r=function(e,t){var n=t.match(/[a-hA-H]+\s?[1-8]/g);if(!n)return{};var r=Object.entries(M).reduce((function(e,n){var r=Object(l.a)(n,2),c=r[0];return r[1].some((function(e){return t.toLowerCase().includes(e)}))&&!e?c:e}),void 0),c=n[0].toLowerCase().replace(" ","");if(r&&c){var a=e.SQUARES.filter((function(t){var n=e.get(t);return(null===n||void 0===n?void 0:n.color)===e.turn()&&n.type===r})).map((function(t){if(1===e.moves({square:t,verbose:!0}).filter((function(e){return e.to===c})).length)return{from:t,to:c}})).filter((function(e){return e}));return a.length>1?{error:"Multiple possible pieces for that move"}:{move:a[0]}}return{}}(a,e);if(r.move)return I(r.move.from),void Q(r.move.to);if(r.error)return void V(r.error||"Did not understand");var c=m.match(/[a-hA-H]+[1-8]/g);if(c){var o=c[0].toLowerCase();return N?Q(o):I(o),void V(null)}e.includes("undo")&&he()}}}),[m]),Object(o.useEffect)((function(){N&&G&&(fe({from:N,to:G}),I(null),Q(null))}),[N,G]);var fe=function(e){V(null),a.move(e)&&(d(a.fen()),de((function(e){return e?[[ce,se],e[0]]:[[ce,se]]})),a.in_checkmate()&&ee(!0))},Oe=function(){y?L.a.stopListening():(g(),V(null),L.a.startListening({continuous:!1,language:"en-US"}))},me=function(e){"Space"===e.code&&(e.preventDefault(),Oe())};Object(o.useEffect)((function(){return window.addEventListener("keydown",me),function(){return window.removeEventListener("keydown",me)}}),[]);var he=function(){if(be&&be[1]){a.undo();var e=Object(l.a)(be[1],2),t=e[0],n=e[1];ae(t),ue(n),de((function(e){return e?[e[1]]:null})),d(a.fen())}};return Object(v.jsxs)("div",{className:"mainwrapper",children:[Object(v.jsxs)(D,{visible:Z,footer:[Object(v.jsx)("button",{className:"defaultButton",onClick:function(){return ee(!1)},children:"Return"})],children:["Checkmate! The winner is"," ","w"===a.turn()?t:n]}),Object(v.jsxs)("div",{className:"controls",children:[Object(v.jsx)("img",{className:"logo",onClick:Oe,src:C,alt:"press to speak button"}),y?"Listening...":"Click to talk or press the Space key...",Object(v.jsx)("button",{className:"defaultButton",disabled:!(be&&be[1]),onClick:he,children:"Undo"}),Object(v.jsx)("div",{children:z&&!y&&Object(v.jsx)(A,{children:z})})]}),Object(v.jsx)("div",{children:Object(v.jsx)(h.b,{className:"main",children:Object(v.jsxs)(p.a,{id:"layout",children:[Object(v.jsx)(T.a,{className:"sideBar sideBarSlyth ".concat(te?"":"active"),width:"250",children:Object(v.jsx)(k,{player:t,playTime:r,marked:!te,chess:a,playerColor:"b",timer:se,showTimer:0!==r})}),Object(v.jsx)(B.Content,{className:"flex-center",children:Object(v.jsx)(q.a,{calcWidth:function(e){return.42*e.screenWidth},position:u,onDrop:function(e){I(null),fe({from:e.sourceSquare,to:e.targetSquare,promotion:"q"})},squareStyles:Object(b.a)(Object(b.a)({},N?Object(j.a)({},N,{backgroundColor:"gold"}):{}),K?Object(j.a)({},K,{backgroundColor:"gold"}):{}),onSquareClick:function(e){N?Q(e):I(e)},onMouseOverSquare:W,onMouseOutSquare:function(){return W(null)}})}),Object(v.jsx)(T.a,{width:"250",className:"sideBar sideBarGryf ".concat(te?"active":""),children:Object(v.jsx)(k,{player:n,playTime:r,marked:te,chess:a,playerColor:"w",timer:ce,showTimer:0!==r})})]})})})]})},H=function(e){var t=Object(o.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],a=Object(o.useState)(""),i=Object(l.a)(a,2),s=i[0],u=i[1],j=Object(o.useState)(0),b=Object(l.a)(j,2),d=b[0],f=b[1];return Object(v.jsxs)("div",{className:"intro",children:[Object(v.jsx)("img",{src:C,alt:"logo"}),Object(v.jsxs)("form",{onSubmit:function(t){e.handleSubmit(t,r,s,d)},children:[Object(v.jsxs)("div",{className:"formItem",children:[Object(v.jsx)("label",{children:"Name of Gryffindor player:"}),Object(v.jsx)("input",{type:"text",value:s,required:!0,onChange:function(e){u(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formItem",children:[Object(v.jsx)("label",{children:"Name of Slytherin player:"}),Object(v.jsx)("input",{type:"text",value:r,required:!0,onChange:function(e){c(e.target.value)}})]}),Object(v.jsxs)("div",{className:"formItem",children:[Object(v.jsx)("label",{children:"Pick your chess timer:"}),Object(v.jsxs)("select",{value:d,onChange:function(e){f(parseInt(e.target.value))},required:!0,children:[Object(v.jsx)("option",{value:10,children:"10/10 Minutes"}),Object(v.jsx)("option",{value:20,children:"20/20 Minutes"}),Object(v.jsx)("option",{value:60,children:"60/60 Minutes"}),Object(v.jsx)("option",{value:0,children:"without time limit"})]})]}),Object(v.jsx)("input",{type:"submit",value:"Start Game",className:"formItem"})]})]})},G=function(){var e=Object(o.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(o.useState)(""),a=Object(l.a)(c,2),i=a[0],s=a[1],u=Object(o.useState)(0),j=Object(l.a)(u,2),b=j[0],d=j[1],f=Object(o.useState)(!1),O=Object(l.a)(f,2),m=O[0],h=O[1];return Object(v.jsx)(v.Fragment,{children:m?Object(v.jsx)(R,{bPlayer:n,wPlayer:i,playTime:60*b}):Object(v.jsx)(H,{handleSubmit:function(e,t,n,c){e.preventDefault(),r(t),s(n),d(c),h(!0)}})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,259)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),c(e),a(e),o(e)}))};u.a.render(Object(v.jsx)(i.a.StrictMode,{children:Object(v.jsx)(G,{})}),document.getElementById("root")),Q()},99:function(e,t,n){}},[[253,1,2]]]);
//# sourceMappingURL=main.0603b7c4.chunk.js.map